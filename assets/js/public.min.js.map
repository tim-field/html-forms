{"version":3,"sources":["public.js"],"names":["require","undefined","define","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","1","module","getButtonText","button","innerHTML","value","setButtonText","text","Loader","formElement","this","form","querySelector","loadingInterval","character","originalButton","cloneNode","prototype","setCharacter","c","start","loadingText","getAttribute","styles","window","getComputedStyle","style","width","setInterval","tick","bind","opacity","loadingChar","stop","clearInterval","2","cleanFormMessages","querySelectorAll","forEach","el","parentNode","removeChild","addFormMessage","message","txtElement","document","createElement","className","type","insertBefore","lastElementChild","nextElementSibling","submitForm","loader","data","serialize","hash","empty","request","XMLHttpRequest","onreadystatechange","response","readyState","status","JSON","parse","responseText","error","console","log","hide_form","display","redirect_url","location","reset","open","vars","ajax_url","setRequestHeader","send","hf_js_vars","href","addEventListener","target","indexOf","preventDefault","./form-loading-indicator.js","es5-shim","form-serialize","3","root","factory","amd","returnExports","isCallable","isRegex","$Array","Array","ArrayPrototype","$Object","Object","ObjectPrototype","$Function","Function","FunctionPrototype","$String","String","StringPrototype","$Number","Number","NumberPrototype","array_slice","slice","array_splice","splice","array_push","push","array_unshift","unshift","array_concat","concat","array_join","join","apply","max","Math","min","to_string","toString","hasToStringTag","Symbol","toStringTag","fnToStr","constructorRegex","isES6ClassFn","fnStr","singleStripped","replace","multiStripped","spaceStripped","test","tryFunctionObject","strClass","regexExec","RegExp","exec","tryRegexExec","isString","strValue","valueOf","tryStringObject","supportsDescriptors","defineProperty","obj","enumerable","_","x","defineProperties","has","object","name","method","forceAssign","configurable","writable","map","hasOwnProperty","isPrimitive","input","isActualNaN","isNaN","ES","ToInteger","num","floor","abs","ToPrimitive","val","toStr","TypeError","ToObject","ToUint32","Empty","that","bound","args","arguments","binder","result","boundLength","boundArgs","owns","arraySlice","arraySliceApply","strSlice","strSplit","split","strIndexOf","pushCall","isEnum","propertyIsEnumerable","arraySort","sort","isArray","hasUnshiftReturnValueBug","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","threwException","__","context","callbackfn","T","self","filter","every","some","reduceCoercesToObject","reduce","___","list","reduceRightCoercesToObject","reduceRight","hasFirefox2IndexOfBug","searchElement","hasFirefox2LastIndexOfBug","lastIndexOf","spliceNoopReturnsEmptyArray","deleteCount","spliceWorksWithEmptyObject","spliceWorksWithLargeSparseArrays","arr","spliceWorksWithSmallSparseArrays","from","O","A","len","relativeStart","actualStart","actualDeleteCount","k","to","items","itemCount","maxK","minK","hasStringJoinBug","originalJoin","separator","sep","hasJoinUndefinedBug","pushShim","item","pushIsNotGeneric","pushUndefinedIsWeird","end","sortIgnoresNonFunctions","sortThrowsOnRegex","sortIgnoresUndefined","compareFn","hasDontEnumBug","hasProtoEnumBug","hasStringEnumBug","equalsConstructorPrototype","ctor","constructor","blacklistedKeys","$window","$console","$parent","$self","$frame","$frames","$frameElement","$webkitIndexedDB","$webkitStorageInfo","$external","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","dontEnums","dontEnumsLength","isStandardArguments","isLegacyArguments","callee","isArguments","keys","isFn","isArgs","isObject","isStr","theKeys","skipProto","skipConstructor","j","dontEnum","keysWorksWithArguments","keysHasArgumentsLengthBug","argKeys","originalKeys","hasToDateStringFormatBug","hasToStringFormatBug","hasNegativeMonthYearBug","Date","getUTCMonth","aNegativeTestDate","aPositiveTestDate","hasToUTCStringFormatBug","toUTCString","getTimezoneOffset","toDateString","originalGetFullYear","getFullYear","originalGetMonth","getMonth","originalGetDate","getDate","originalGetUTCFullYear","getUTCFullYear","originalGetUTCMonth","originalGetUTCDate","getUTCDate","originalGetUTCDay","getUTCDay","originalGetUTCHours","getUTCHours","originalGetUTCMinutes","getUTCMinutes","originalGetUTCSeconds","getUTCSeconds","originalGetUTCMilliseconds","getUTCMilliseconds","dayName","monthName","daysInMonth","month","year","date","day","hour","minute","second","getDay","getHours","getMinutes","getSeconds","timezoneOffset","hoursOffset","minutesOffset","hasNegativeDateBug","toISOString","hasSafari51DateBug","getTime","isFinite","RangeError","toJSON","NaN","key","tv","toISO","supportsExtendedYears","acceptsInvalidDates","maxSafeUnsigned32Bit","pow","hasSafariSignedIntBug","NativeDate","DateShim","Y","M","D","h","m","ms","seconds","millis","msToShift","sToShift","isoDateExpression","months","dayFromMonth","toUTC","now","UTC","string","match","millisecond","isLocalTime","Boolean","signOffset","hourOffset","minuteOffset","hasToFixedBugs","toFixed","toFixedHelpers","base","size","multiply","c2","divide","numToString","acc","x2","fractionDigits","z","hasToPrecisionUndefinedBug","toPrecision","originalToPrecision","precision","compliantExecNpcg","maxSafe32BitInt","limit","separator2","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","splitLimit","index","str_replace","groups","group","searchValue","replaceValue","hasCapturingGroups","wrappedReplaceValue","originalLastIndex","string_substr","substr","hasNegativeSubstrBug","normalizedStart","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","trim","hasLastIndexBug","searchString","S","searchStr","numPos","pos","Infinity","searchLen","originalLastIndexOf","parseInt","origParseInt","hexRegex","str","radix","defaultedRadix","parseFloat","origParseFloat","inputString","errorToStringShim","msg","ensureNonEnumerable","prop","desc","getOwnPropertyDescriptor","regexToString","global","4","options","serializer","hash_serializer","str_serialize","elements","radio_store","create","element","disabled","k_r_success_contrls","nodeName","k_r_submitter","checked","selectOptions","isSelectedOptions","option","allowedEmpty","hasValue","selected","parse_keys","prefix","children","brackets","hash_assign","shift","between","_values","existing","encodeURIComponent"],"mappings":"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","file":"public.min.js","sourcesContent":["(function () { var require = undefined; var module = undefined; var exports = undefined; var define = undefined;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nfunction getButtonText(button) {\n    return button.innerHTML ? button.innerHTML : button.value;\n}\n\nfunction setButtonText(button, text) {\n    button.innerHTML ? button.innerHTML = text : button.value = text;\n}\n\nfunction Loader(formElement) {\n    this.form = formElement;\n    this.button = formElement.querySelector('input[type=\"submit\"], button[type=\"submit\"]');\n    this.loadingInterval = 0;\n    this.character = '\\xB7';\n\n    if (this.button) {\n        this.originalButton = this.button.cloneNode(true);\n    }\n}\n\nLoader.prototype.setCharacter = function (c) {\n    this.character = c;\n};\n\nLoader.prototype.start = function () {\n    if (this.button) {\n        // loading text\n        var loadingText = this.button.getAttribute('data-loading-text');\n        if (loadingText) {\n            setButtonText(this.button, loadingText);\n            return;\n        }\n\n        // Show AJAX loader\n        var styles = window.getComputedStyle(this.button);\n        this.button.style.width = styles.width;\n        setButtonText(this.button, this.character);\n        this.loadingInterval = window.setInterval(this.tick.bind(this), 500);\n    } else {\n        this.form.style.opacity = '0.5';\n    }\n};\n\nLoader.prototype.tick = function () {\n    // count chars, start over at 5\n    var text = getButtonText(this.button);\n    var loadingChar = this.character;\n    setButtonText(this.button, text.length >= 5 ? loadingChar : text + \" \" + loadingChar);\n};\n\nLoader.prototype.stop = function () {\n    if (this.button) {\n        this.button.style.width = this.originalButton.style.width;\n        var text = getButtonText(this.originalButton);\n        setButtonText(this.button, text);\n        window.clearInterval(this.loadingInterval);\n    } else {\n        this.form.style.opacity = '';\n    }\n};\n\nmodule.exports = Loader;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nrequire('es5-shim');\nvar serialize = require('form-serialize');\nvar Loader = require('./form-loading-indicator.js');\nvar vars = window.hf_js_vars || { ajax_url: window.location.href };\n\nfunction cleanFormMessages(formElement) {\n    var messageElements = formElement.querySelectorAll('.hf-message');\n    messageElements.forEach(function (el) {\n        el.parentNode.removeChild(el);\n    });\n}\n\nfunction addFormMessage(formElement, message) {\n    var txtElement = document.createElement('p');\n    txtElement.className = 'hf-message hf-message-' + message.type;\n    txtElement.innerHTML = message.text;\n    formElement.insertBefore(txtElement, formElement.lastElementChild.nextElementSibling);\n}\n\ndocument.addEventListener('submit', function (e) {\n    var formElement = e.target;\n    if (formElement.className.indexOf('hf-form') < 0) {\n        return;\n    }\n\n    e.preventDefault();\n\n    submitForm(formElement);\n}, true);\n\nfunction submitForm(formElement) {\n    var loader = new Loader(formElement);\n    var data = serialize(formElement, { \"hash\": false, \"empty\": true });\n    var request = new XMLHttpRequest();\n\n    cleanFormMessages(formElement);\n    loader.start();\n    request.onreadystatechange = function () {\n        var response = void 0;\n\n        // are we done?\n        if (this.readyState === 4) {\n            loader.stop();\n\n            if (this.status >= 200 && this.status < 400) {\n                try {\n                    response = JSON.parse(this.responseText);\n                } catch (error) {\n                    console.log('HTML Forms: failed to parse AJAX response.\\n\\nError: \"' + error + '\"');\n\n                    return;\n                }\n\n                // Show form message\n                if (response.message) {\n                    addFormMessage(formElement, response.message);\n                }\n\n                if (response.hide_form) {\n                    formElement.querySelector('.hf-fields-wrap').style.display = 'none';\n                }\n\n                // Should we redirect?\n                if (response.redirect_url) {\n                    window.location = response.redirect_url;\n                }\n\n                // clear form\n                formElement.reset();\n            } else {\n                // Server error :(\n                console.log(this.responseText);\n            }\n        }\n    };\n\n    request.open('POST', vars.ajax_url, true);\n    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    request.send(data);\n    request = null;\n}\n\n},{\"./form-loading-indicator.js\":1,\"es5-shim\":3,\"form-serialize\":4}],3:[function(require,module,exports){\n/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2015 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n// Add semicolon to prevent IIFE from being passed as argument to concatenated code.\n;\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/templates/returnExports.js\n(function (root, factory) {\n    'use strict';\n\n    /* global define, exports, module */\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n    }\n}(this, function () {\n    /**\n     * Brings an environment as close to ECMAScript 5 compliance\n     * as is possible with the facilities of erstwhile engines.\n     *\n     * Annotated ES5: http://es5.github.com/ (specific links below)\n     * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n     * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n     */\n\n    // Shortcut to an often accessed properties, in order to avoid multiple\n    // dereference that costs universally. This also holds a reference to known-good\n    // functions.\n    var $Array = Array;\n    var ArrayPrototype = $Array.prototype;\n    var $Object = Object;\n    var ObjectPrototype = $Object.prototype;\n    var $Function = Function;\n    var FunctionPrototype = $Function.prototype;\n    var $String = String;\n    var StringPrototype = $String.prototype;\n    var $Number = Number;\n    var NumberPrototype = $Number.prototype;\n    var array_slice = ArrayPrototype.slice;\n    var array_splice = ArrayPrototype.splice;\n    var array_push = ArrayPrototype.push;\n    var array_unshift = ArrayPrototype.unshift;\n    var array_concat = ArrayPrototype.concat;\n    var array_join = ArrayPrototype.join;\n    var call = FunctionPrototype.call;\n    var apply = FunctionPrototype.apply;\n    var max = Math.max;\n    var min = Math.min;\n\n    // Having a toString local variable name breaks in Opera so use to_string.\n    var to_string = ObjectPrototype.toString;\n\n    /* global Symbol */\n    /* eslint-disable one-var-declaration-per-line, no-redeclare, max-statements-per-line */\n    var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n    var isCallable; /* inlined from https://npmjs.com/is-callable */ var fnToStr = Function.prototype.toString, constructorRegex = /^\\s*class /, isES6ClassFn = function isES6ClassFn(value) { try { var fnStr = fnToStr.call(value); var singleStripped = fnStr.replace(/\\/\\/.*\\n/g, ''); var multiStripped = singleStripped.replace(/\\/\\*[.\\s\\S]*\\*\\//g, ''); var spaceStripped = multiStripped.replace(/\\n/mg, ' ').replace(/ {2}/g, ' '); return constructorRegex.test(spaceStripped); } catch (e) { return false; /* not a function */ } }, tryFunctionObject = function tryFunctionObject(value) { try { if (isES6ClassFn(value)) { return false; } fnToStr.call(value); return true; } catch (e) { return false; } }, fnClass = '[object Function]', genClass = '[object GeneratorFunction]', isCallable = function isCallable(value) { if (!value) { return false; } if (typeof value !== 'function' && typeof value !== 'object') { return false; } if (hasToStringTag) { return tryFunctionObject(value); } if (isES6ClassFn(value)) { return false; } var strClass = to_string.call(value); return strClass === fnClass || strClass === genClass; };\n\n    var isRegex; /* inlined from https://npmjs.com/is-regex */ var regexExec = RegExp.prototype.exec, tryRegexExec = function tryRegexExec(value) { try { regexExec.call(value); return true; } catch (e) { return false; } }, regexClass = '[object RegExp]'; isRegex = function isRegex(value) { if (typeof value !== 'object') { return false; } return hasToStringTag ? tryRegexExec(value) : to_string.call(value) === regexClass; };\n    var isString; /* inlined from https://npmjs.com/is-string */ var strValue = String.prototype.valueOf, tryStringObject = function tryStringObject(value) { try { strValue.call(value); return true; } catch (e) { return false; } }, stringClass = '[object String]'; isString = function isString(value) { if (typeof value === 'string') { return true; } if (typeof value !== 'object') { return false; } return hasToStringTag ? tryStringObject(value) : to_string.call(value) === stringClass; };\n    /* eslint-enable one-var-declaration-per-line, no-redeclare, max-statements-per-line */\n\n    /* inlined from http://npmjs.com/define-properties */\n    var supportsDescriptors = $Object.defineProperty && (function () {\n        try {\n            var obj = {};\n            $Object.defineProperty(obj, 'x', { enumerable: false, value: obj });\n            for (var _ in obj) { // jscs:ignore disallowUnusedVariables\n                return false;\n            }\n            return obj.x === obj;\n        } catch (e) { /* this is ES3 */\n            return false;\n        }\n    }());\n    var defineProperties = (function (has) {\n        // Define configurable, writable, and non-enumerable props\n        // if they don't exist.\n        var defineProperty;\n        if (supportsDescriptors) {\n            defineProperty = function (object, name, method, forceAssign) {\n                if (!forceAssign && (name in object)) {\n                    return;\n                }\n                $Object.defineProperty(object, name, {\n                    configurable: true,\n                    enumerable: false,\n                    writable: true,\n                    value: method\n                });\n            };\n        } else {\n            defineProperty = function (object, name, method, forceAssign) {\n                if (!forceAssign && (name in object)) {\n                    return;\n                }\n                object[name] = method;\n            };\n        }\n        return function defineProperties(object, map, forceAssign) {\n            for (var name in map) {\n                if (has.call(map, name)) {\n                    defineProperty(object, name, map[name], forceAssign);\n                }\n            }\n        };\n    }(ObjectPrototype.hasOwnProperty));\n\n    //\n    // Util\n    // ======\n    //\n\n    /* replaceable with https://npmjs.com/package/es-abstract /helpers/isPrimitive */\n    var isPrimitive = function isPrimitive(input) {\n        var type = typeof input;\n        return input === null || (type !== 'object' && type !== 'function');\n    };\n\n    var isActualNaN = $Number.isNaN || function isActualNaN(x) {\n        return x !== x;\n    };\n\n    var ES = {\n        // ES5 9.4\n        // http://es5.github.com/#x9.4\n        // http://jsperf.com/to-integer\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToInteger */\n        ToInteger: function ToInteger(num) {\n            var n = +num;\n            if (isActualNaN(n)) {\n                n = 0;\n            } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n                n = (n > 0 || -1) * Math.floor(Math.abs(n));\n            }\n            return n;\n        },\n\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToPrimitive */\n        ToPrimitive: function ToPrimitive(input) {\n            var val, valueOf, toStr;\n            if (isPrimitive(input)) {\n                return input;\n            }\n            valueOf = input.valueOf;\n            if (isCallable(valueOf)) {\n                val = valueOf.call(input);\n                if (isPrimitive(val)) {\n                    return val;\n                }\n            }\n            toStr = input.toString;\n            if (isCallable(toStr)) {\n                val = toStr.call(input);\n                if (isPrimitive(val)) {\n                    return val;\n                }\n            }\n            throw new TypeError();\n        },\n\n        // ES5 9.9\n        // http://es5.github.com/#x9.9\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToObject */\n        ToObject: function (o) {\n            if (o == null) { // this matches both null and undefined\n                throw new TypeError(\"can't convert \" + o + ' to object');\n            }\n            return $Object(o);\n        },\n\n        /* replaceable with https://npmjs.com/package/es-abstract ES5.ToUint32 */\n        ToUint32: function ToUint32(x) {\n            return x >>> 0;\n        }\n    };\n\n    //\n    // Function\n    // ========\n    //\n\n    // ES-5 15.3.4.5\n    // http://es5.github.com/#x15.3.4.5\n\n    var Empty = function Empty() {};\n\n    defineProperties(FunctionPrototype, {\n        bind: function bind(that) { // .length is 1\n            // 1. Let Target be the this value.\n            var target = this;\n            // 2. If IsCallable(Target) is false, throw a TypeError exception.\n            if (!isCallable(target)) {\n                throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n            }\n            // 3. Let A be a new (possibly empty) internal list of all of the\n            //   argument values provided after thisArg (arg1, arg2 etc), in order.\n            // XXX slicedArgs will stand in for \"A\" if used\n            var args = array_slice.call(arguments, 1); // for normal call\n            // 4. Let F be a new native ECMAScript object.\n            // 11. Set the [[Prototype]] internal property of F to the standard\n            //   built-in Function prototype object as specified in 15.3.3.1.\n            // 12. Set the [[Call]] internal property of F as described in\n            //   15.3.4.5.1.\n            // 13. Set the [[Construct]] internal property of F as described in\n            //   15.3.4.5.2.\n            // 14. Set the [[HasInstance]] internal property of F as described in\n            //   15.3.4.5.3.\n            var bound;\n            var binder = function () {\n\n                if (this instanceof bound) {\n                    // 15.3.4.5.2 [[Construct]]\n                    // When the [[Construct]] internal method of a function object,\n                    // F that was created using the bind function is called with a\n                    // list of arguments ExtraArgs, the following steps are taken:\n                    // 1. Let target be the value of F's [[TargetFunction]]\n                    //   internal property.\n                    // 2. If target has no [[Construct]] internal method, a\n                    //   TypeError exception is thrown.\n                    // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                    //   property.\n                    // 4. Let args be a new list containing the same values as the\n                    //   list boundArgs in the same order followed by the same\n                    //   values as the list ExtraArgs in the same order.\n                    // 5. Return the result of calling the [[Construct]] internal\n                    //   method of target providing args as the arguments.\n\n                    var result = apply.call(\n                        target,\n                        this,\n                        array_concat.call(args, array_slice.call(arguments))\n                    );\n                    if ($Object(result) === result) {\n                        return result;\n                    }\n                    return this;\n\n                } else {\n                    // 15.3.4.5.1 [[Call]]\n                    // When the [[Call]] internal method of a function object, F,\n                    // which was created using the bind function is called with a\n                    // this value and a list of arguments ExtraArgs, the following\n                    // steps are taken:\n                    // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                    //   property.\n                    // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                    //   property.\n                    // 3. Let target be the value of F's [[TargetFunction]] internal\n                    //   property.\n                    // 4. Let args be a new list containing the same values as the\n                    //   list boundArgs in the same order followed by the same\n                    //   values as the list ExtraArgs in the same order.\n                    // 5. Return the result of calling the [[Call]] internal method\n                    //   of target providing boundThis as the this value and\n                    //   providing args as the arguments.\n\n                    // equiv: target.call(this, ...boundArgs, ...args)\n                    return apply.call(\n                        target,\n                        that,\n                        array_concat.call(args, array_slice.call(arguments))\n                    );\n\n                }\n\n            };\n\n            // 15. If the [[Class]] internal property of Target is \"Function\", then\n            //     a. Let L be the length property of Target minus the length of A.\n            //     b. Set the length own property of F to either 0 or L, whichever is\n            //       larger.\n            // 16. Else set the length own property of F to 0.\n\n            var boundLength = max(0, target.length - args.length);\n\n            // 17. Set the attributes of the length own property of F to the values\n            //   specified in 15.3.5.1.\n            var boundArgs = [];\n            for (var i = 0; i < boundLength; i++) {\n                array_push.call(boundArgs, '$' + i);\n            }\n\n            // XXX Build a dynamic function with desired amount of arguments is the only\n            // way to set the length property of a function.\n            // In environments where Content Security Policies enabled (Chrome extensions,\n            // for ex.) all use of eval or Function costructor throws an exception.\n            // However in all of these environments Function.prototype.bind exists\n            // and so this code will never be executed.\n            bound = $Function('binder', 'return function (' + array_join.call(boundArgs, ',') + '){ return binder.apply(this, arguments); }')(binder);\n\n            if (target.prototype) {\n                Empty.prototype = target.prototype;\n                bound.prototype = new Empty();\n                // Clean up dangling references.\n                Empty.prototype = null;\n            }\n\n            // TODO\n            // 18. Set the [[Extensible]] internal property of F to true.\n\n            // TODO\n            // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n            // 20. Call the [[DefineOwnProperty]] internal method of F with\n            //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n            //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n            //   false.\n            // 21. Call the [[DefineOwnProperty]] internal method of F with\n            //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n            //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n            //   and false.\n\n            // TODO\n            // NOTE Function objects created using Function.prototype.bind do not\n            // have a prototype property or the [[Code]], [[FormalParameters]], and\n            // [[Scope]] internal properties.\n            // XXX can't delete prototype in pure-js.\n\n            // 22. Return F.\n            return bound;\n        }\n    });\n\n    // _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n    // use it in defining shortcuts.\n    var owns = call.bind(ObjectPrototype.hasOwnProperty);\n    var toStr = call.bind(ObjectPrototype.toString);\n    var arraySlice = call.bind(array_slice);\n    var arraySliceApply = apply.bind(array_slice);\n    var strSlice = call.bind(StringPrototype.slice);\n    var strSplit = call.bind(StringPrototype.split);\n    var strIndexOf = call.bind(StringPrototype.indexOf);\n    var pushCall = call.bind(array_push);\n    var isEnum = call.bind(ObjectPrototype.propertyIsEnumerable);\n    var arraySort = call.bind(ArrayPrototype.sort);\n\n    //\n    // Array\n    // =====\n    //\n\n    var isArray = $Array.isArray || function isArray(obj) {\n        return toStr(obj) === '[object Array]';\n    };\n\n    // ES5 15.4.4.12\n    // http://es5.github.com/#x15.4.4.13\n    // Return len+argCount.\n    // [bugfix, ielt8]\n    // IE < 8 bug: [].unshift(0) === undefined but should be \"1\"\n    var hasUnshiftReturnValueBug = [].unshift(0) !== 1;\n    defineProperties(ArrayPrototype, {\n        unshift: function () {\n            array_unshift.apply(this, arguments);\n            return this.length;\n        }\n    }, hasUnshiftReturnValueBug);\n\n    // ES5 15.4.3.2\n    // http://es5.github.com/#x15.4.3.2\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\n    defineProperties($Array, { isArray: isArray });\n\n    // The IsCallable() check in the Array functions\n    // has been replaced with a strict check on the\n    // internal class of the object to trap cases where\n    // the provided function was actually a regular\n    // expression literal, which in V8 and\n    // JavaScriptCore is a typeof \"function\".  Only in\n    // V8 are regular expression literals permitted as\n    // reduce parameters, so it is desirable in the\n    // general case for the shim to match the more\n    // strict and common behavior of rejecting regular\n    // expressions.\n\n    // ES5 15.4.4.18\n    // http://es5.github.com/#x15.4.4.18\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n    // Check failure of by-index access of string characters (IE < 9)\n    // and failure of `0 in boxedString` (Rhino)\n    var boxedString = $Object('a');\n    var splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\n    var properlyBoxesContext = function properlyBoxed(method) {\n        // Check node 0.6.21 bug where third parameter is not boxed\n        var properlyBoxesNonStrict = true;\n        var properlyBoxesStrict = true;\n        var threwException = false;\n        if (method) {\n            try {\n                method.call('foo', function (_, __, context) {\n                    if (typeof context !== 'object') {\n                        properlyBoxesNonStrict = false;\n                    }\n                });\n\n                method.call([1], function () {\n                    'use strict';\n\n                    properlyBoxesStrict = typeof this === 'string';\n                }, 'x');\n            } catch (e) {\n                threwException = true;\n            }\n        }\n        return !!method && !threwException && properlyBoxesNonStrict && properlyBoxesStrict;\n    };\n\n    defineProperties(ArrayPrototype, {\n        forEach: function forEach(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var i = -1;\n            var length = ES.ToUint32(self.length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.forEach callback must be a function');\n            }\n\n            while (++i < length) {\n                if (i in self) {\n                    // Invoke the callback function with call, passing arguments:\n                    // context, property value, property key, thisArg object\n                    if (typeof T === 'undefined') {\n                        callbackfn(self[i], i, object);\n                    } else {\n                        callbackfn.call(T, self[i], i, object);\n                    }\n                }\n            }\n        }\n    }, !properlyBoxesContext(ArrayPrototype.forEach));\n\n    // ES5 15.4.4.19\n    // http://es5.github.com/#x15.4.4.19\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\n    defineProperties(ArrayPrototype, {\n        map: function map(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var result = $Array(length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.map callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self) {\n                    if (typeof T === 'undefined') {\n                        result[i] = callbackfn(self[i], i, object);\n                    } else {\n                        result[i] = callbackfn.call(T, self[i], i, object);\n                    }\n                }\n            }\n            return result;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.map));\n\n    // ES5 15.4.4.20\n    // http://es5.github.com/#x15.4.4.20\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\n    defineProperties(ArrayPrototype, {\n        filter: function filter(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var result = [];\n            var value;\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.filter callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self) {\n                    value = self[i];\n                    if (typeof T === 'undefined' ? callbackfn(value, i, object) : callbackfn.call(T, value, i, object)) {\n                        pushCall(result, value);\n                    }\n                }\n            }\n            return result;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.filter));\n\n    // ES5 15.4.4.16\n    // http://es5.github.com/#x15.4.4.16\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\n    defineProperties(ArrayPrototype, {\n        every: function every(callbackfn/*, thisArg*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.every callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self && !(typeof T === 'undefined' ? callbackfn(self[i], i, object) : callbackfn.call(T, self[i], i, object))) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.every));\n\n    // ES5 15.4.4.17\n    // http://es5.github.com/#x15.4.4.17\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\n    defineProperties(ArrayPrototype, {\n        some: function some(callbackfn/*, thisArg */) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n            var T;\n            if (arguments.length > 1) {\n                T = arguments[1];\n            }\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.some callback must be a function');\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self && (typeof T === 'undefined' ? callbackfn(self[i], i, object) : callbackfn.call(T, self[i], i, object))) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }, !properlyBoxesContext(ArrayPrototype.some));\n\n    // ES5 15.4.4.21\n    // http://es5.github.com/#x15.4.4.21\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\n    var reduceCoercesToObject = false;\n    if (ArrayPrototype.reduce) {\n        reduceCoercesToObject = typeof ArrayPrototype.reduce.call('es5', function (_, __, ___, list) {\n            return list;\n        }) === 'object';\n    }\n    defineProperties(ArrayPrototype, {\n        reduce: function reduce(callbackfn/*, initialValue*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.reduce callback must be a function');\n            }\n\n            // no value to return if no initial value and an empty array\n            if (length === 0 && arguments.length === 1) {\n                throw new TypeError('reduce of empty array with no initial value');\n            }\n\n            var i = 0;\n            var result;\n            if (arguments.length >= 2) {\n                result = arguments[1];\n            } else {\n                do {\n                    if (i in self) {\n                        result = self[i++];\n                        break;\n                    }\n\n                    // if array contains no values, no initial value to return\n                    if (++i >= length) {\n                        throw new TypeError('reduce of empty array with no initial value');\n                    }\n                } while (true);\n            }\n\n            for (; i < length; i++) {\n                if (i in self) {\n                    result = callbackfn(result, self[i], i, object);\n                }\n            }\n\n            return result;\n        }\n    }, !reduceCoercesToObject);\n\n    // ES5 15.4.4.22\n    // http://es5.github.com/#x15.4.4.22\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\n    var reduceRightCoercesToObject = false;\n    if (ArrayPrototype.reduceRight) {\n        reduceRightCoercesToObject = typeof ArrayPrototype.reduceRight.call('es5', function (_, __, ___, list) {\n            return list;\n        }) === 'object';\n    }\n    defineProperties(ArrayPrototype, {\n        reduceRight: function reduceRight(callbackfn/*, initial*/) {\n            var object = ES.ToObject(this);\n            var self = splitString && isString(this) ? strSplit(this, '') : object;\n            var length = ES.ToUint32(self.length);\n\n            // If no callback function or if callback is not a callable function\n            if (!isCallable(callbackfn)) {\n                throw new TypeError('Array.prototype.reduceRight callback must be a function');\n            }\n\n            // no value to return if no initial value, empty array\n            if (length === 0 && arguments.length === 1) {\n                throw new TypeError('reduceRight of empty array with no initial value');\n            }\n\n            var result;\n            var i = length - 1;\n            if (arguments.length >= 2) {\n                result = arguments[1];\n            } else {\n                do {\n                    if (i in self) {\n                        result = self[i--];\n                        break;\n                    }\n\n                    // if array contains no values, no initial value to return\n                    if (--i < 0) {\n                        throw new TypeError('reduceRight of empty array with no initial value');\n                    }\n                } while (true);\n            }\n\n            if (i < 0) {\n                return result;\n            }\n\n            do {\n                if (i in self) {\n                    result = callbackfn(result, self[i], i, object);\n                }\n            } while (i--);\n\n            return result;\n        }\n    }, !reduceRightCoercesToObject);\n\n    // ES5 15.4.4.14\n    // http://es5.github.com/#x15.4.4.14\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\n    var hasFirefox2IndexOfBug = ArrayPrototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\n    defineProperties(ArrayPrototype, {\n        indexOf: function indexOf(searchElement/*, fromIndex */) {\n            var self = splitString && isString(this) ? strSplit(this, '') : ES.ToObject(this);\n            var length = ES.ToUint32(self.length);\n\n            if (length === 0) {\n                return -1;\n            }\n\n            var i = 0;\n            if (arguments.length > 1) {\n                i = ES.ToInteger(arguments[1]);\n            }\n\n            // handle negative indices\n            i = i >= 0 ? i : max(0, length + i);\n            for (; i < length; i++) {\n                if (i in self && self[i] === searchElement) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    }, hasFirefox2IndexOfBug);\n\n    // ES5 15.4.4.15\n    // http://es5.github.com/#x15.4.4.15\n    // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\n    var hasFirefox2LastIndexOfBug = ArrayPrototype.lastIndexOf && [0, 1].lastIndexOf(0, -3) !== -1;\n    defineProperties(ArrayPrototype, {\n        lastIndexOf: function lastIndexOf(searchElement/*, fromIndex */) {\n            var self = splitString && isString(this) ? strSplit(this, '') : ES.ToObject(this);\n            var length = ES.ToUint32(self.length);\n\n            if (length === 0) {\n                return -1;\n            }\n            var i = length - 1;\n            if (arguments.length > 1) {\n                i = min(i, ES.ToInteger(arguments[1]));\n            }\n            // handle negative indices\n            i = i >= 0 ? i : length - Math.abs(i);\n            for (; i >= 0; i--) {\n                if (i in self && searchElement === self[i]) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n    }, hasFirefox2LastIndexOfBug);\n\n    // ES5 15.4.4.12\n    // http://es5.github.com/#x15.4.4.12\n    var spliceNoopReturnsEmptyArray = (function () {\n        var a = [1, 2];\n        var result = a.splice();\n        return a.length === 2 && isArray(result) && result.length === 0;\n    }());\n    defineProperties(ArrayPrototype, {\n        // Safari 5.0 bug where .splice() returns undefined\n        splice: function splice(start, deleteCount) {\n            if (arguments.length === 0) {\n                return [];\n            } else {\n                return array_splice.apply(this, arguments);\n            }\n        }\n    }, !spliceNoopReturnsEmptyArray);\n\n    var spliceWorksWithEmptyObject = (function () {\n        var obj = {};\n        ArrayPrototype.splice.call(obj, 0, 0, 1);\n        return obj.length === 1;\n    }());\n    defineProperties(ArrayPrototype, {\n        splice: function splice(start, deleteCount) {\n            if (arguments.length === 0) {\n                return [];\n            }\n            var args = arguments;\n            this.length = max(ES.ToInteger(this.length), 0);\n            if (arguments.length > 0 && typeof deleteCount !== 'number') {\n                args = arraySlice(arguments);\n                if (args.length < 2) {\n                    pushCall(args, this.length - start);\n                } else {\n                    args[1] = ES.ToInteger(deleteCount);\n                }\n            }\n            return array_splice.apply(this, args);\n        }\n    }, !spliceWorksWithEmptyObject);\n    var spliceWorksWithLargeSparseArrays = (function () {\n        // Per https://github.com/es-shims/es5-shim/issues/295\n        // Safari 7/8 breaks with sparse arrays of size 1e5 or greater\n        var arr = new $Array(1e5);\n        // note: the index MUST be 8 or larger or the test will false pass\n        arr[8] = 'x';\n        arr.splice(1, 1);\n        // note: this test must be defined *after* the indexOf shim\n        // per https://github.com/es-shims/es5-shim/issues/313\n        return arr.indexOf('x') === 7;\n    }());\n    var spliceWorksWithSmallSparseArrays = (function () {\n        // Per https://github.com/es-shims/es5-shim/issues/295\n        // Opera 12.15 breaks on this, no idea why.\n        var n = 256;\n        var arr = [];\n        arr[n] = 'a';\n        arr.splice(n + 1, 0, 'b');\n        return arr[n] === 'a';\n    }());\n    defineProperties(ArrayPrototype, {\n        splice: function splice(start, deleteCount) {\n            var O = ES.ToObject(this);\n            var A = [];\n            var len = ES.ToUint32(O.length);\n            var relativeStart = ES.ToInteger(start);\n            var actualStart = relativeStart < 0 ? max((len + relativeStart), 0) : min(relativeStart, len);\n            var actualDeleteCount = min(max(ES.ToInteger(deleteCount), 0), len - actualStart);\n\n            var k = 0;\n            var from;\n            while (k < actualDeleteCount) {\n                from = $String(actualStart + k);\n                if (owns(O, from)) {\n                    A[k] = O[from];\n                }\n                k += 1;\n            }\n\n            var items = arraySlice(arguments, 2);\n            var itemCount = items.length;\n            var to;\n            if (itemCount < actualDeleteCount) {\n                k = actualStart;\n                var maxK = len - actualDeleteCount;\n                while (k < maxK) {\n                    from = $String(k + actualDeleteCount);\n                    to = $String(k + itemCount);\n                    if (owns(O, from)) {\n                        O[to] = O[from];\n                    } else {\n                        delete O[to];\n                    }\n                    k += 1;\n                }\n                k = len;\n                var minK = len - actualDeleteCount + itemCount;\n                while (k > minK) {\n                    delete O[k - 1];\n                    k -= 1;\n                }\n            } else if (itemCount > actualDeleteCount) {\n                k = len - actualDeleteCount;\n                while (k > actualStart) {\n                    from = $String(k + actualDeleteCount - 1);\n                    to = $String(k + itemCount - 1);\n                    if (owns(O, from)) {\n                        O[to] = O[from];\n                    } else {\n                        delete O[to];\n                    }\n                    k -= 1;\n                }\n            }\n            k = actualStart;\n            for (var i = 0; i < items.length; ++i) {\n                O[k] = items[i];\n                k += 1;\n            }\n            O.length = len - actualDeleteCount + itemCount;\n\n            return A;\n        }\n    }, !spliceWorksWithLargeSparseArrays || !spliceWorksWithSmallSparseArrays);\n\n    var originalJoin = ArrayPrototype.join;\n    var hasStringJoinBug;\n    try {\n        hasStringJoinBug = Array.prototype.join.call('123', ',') !== '1,2,3';\n    } catch (e) {\n        hasStringJoinBug = true;\n    }\n    if (hasStringJoinBug) {\n        defineProperties(ArrayPrototype, {\n            join: function join(separator) {\n                var sep = typeof separator === 'undefined' ? ',' : separator;\n                return originalJoin.call(isString(this) ? strSplit(this, '') : this, sep);\n            }\n        }, hasStringJoinBug);\n    }\n\n    var hasJoinUndefinedBug = [1, 2].join(undefined) !== '1,2';\n    if (hasJoinUndefinedBug) {\n        defineProperties(ArrayPrototype, {\n            join: function join(separator) {\n                var sep = typeof separator === 'undefined' ? ',' : separator;\n                return originalJoin.call(this, sep);\n            }\n        }, hasJoinUndefinedBug);\n    }\n\n    var pushShim = function push(item) {\n        var O = ES.ToObject(this);\n        var n = ES.ToUint32(O.length);\n        var i = 0;\n        while (i < arguments.length) {\n            O[n + i] = arguments[i];\n            i += 1;\n        }\n        O.length = n + i;\n        return n + i;\n    };\n\n    var pushIsNotGeneric = (function () {\n        var obj = {};\n        var result = Array.prototype.push.call(obj, undefined);\n        return result !== 1 || obj.length !== 1 || typeof obj[0] !== 'undefined' || !owns(obj, 0);\n    }());\n    defineProperties(ArrayPrototype, {\n        push: function push(item) {\n            if (isArray(this)) {\n                return array_push.apply(this, arguments);\n            }\n            return pushShim.apply(this, arguments);\n        }\n    }, pushIsNotGeneric);\n\n    // This fixes a very weird bug in Opera 10.6 when pushing `undefined\n    var pushUndefinedIsWeird = (function () {\n        var arr = [];\n        var result = arr.push(undefined);\n        return result !== 1 || arr.length !== 1 || typeof arr[0] !== 'undefined' || !owns(arr, 0);\n    }());\n    defineProperties(ArrayPrototype, { push: pushShim }, pushUndefinedIsWeird);\n\n    // ES5 15.2.3.14\n    // http://es5.github.io/#x15.4.4.10\n    // Fix boxed string bug\n    defineProperties(ArrayPrototype, {\n        slice: function (start, end) {\n            var arr = isString(this) ? strSplit(this, '') : this;\n            return arraySliceApply(arr, arguments);\n        }\n    }, splitString);\n\n    var sortIgnoresNonFunctions = (function () {\n        try {\n            [1, 2].sort(null);\n            [1, 2].sort({});\n            return true;\n        } catch (e) {}\n        return false;\n    }());\n    var sortThrowsOnRegex = (function () {\n        // this is a problem in Firefox 4, in which `typeof /a/ === 'function'`\n        try {\n            [1, 2].sort(/a/);\n            return false;\n        } catch (e) {}\n        return true;\n    }());\n    var sortIgnoresUndefined = (function () {\n        // applies in IE 8, for one.\n        try {\n            [1, 2].sort(undefined);\n            return true;\n        } catch (e) {}\n        return false;\n    }());\n    defineProperties(ArrayPrototype, {\n        sort: function sort(compareFn) {\n            if (typeof compareFn === 'undefined') {\n                return arraySort(this);\n            }\n            if (!isCallable(compareFn)) {\n                throw new TypeError('Array.prototype.sort callback must be a function');\n            }\n            return arraySort(this, compareFn);\n        }\n    }, sortIgnoresNonFunctions || !sortIgnoresUndefined || !sortThrowsOnRegex);\n\n    //\n    // Object\n    // ======\n    //\n\n    // ES5 15.2.3.14\n    // http://es5.github.com/#x15.2.3.14\n\n    // http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n    var hasDontEnumBug = !isEnum({ 'toString': null }, 'toString');\n    var hasProtoEnumBug = isEnum(function () {}, 'prototype');\n    var hasStringEnumBug = !owns('x', '0');\n    var equalsConstructorPrototype = function (o) {\n        var ctor = o.constructor;\n        return ctor && ctor.prototype === o;\n    };\n    var blacklistedKeys = {\n        $window: true,\n        $console: true,\n        $parent: true,\n        $self: true,\n        $frame: true,\n        $frames: true,\n        $frameElement: true,\n        $webkitIndexedDB: true,\n        $webkitStorageInfo: true,\n        $external: true\n    };\n    var hasAutomationEqualityBug = (function () {\n        /* globals window */\n        if (typeof window === 'undefined') {\n            return false;\n        }\n        for (var k in window) {\n            try {\n                if (!blacklistedKeys['$' + k] && owns(window, k) && window[k] !== null && typeof window[k] === 'object') {\n                    equalsConstructorPrototype(window[k]);\n                }\n            } catch (e) {\n                return true;\n            }\n        }\n        return false;\n    }());\n    var equalsConstructorPrototypeIfNotBuggy = function (object) {\n        if (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n            return equalsConstructorPrototype(object);\n        }\n        try {\n            return equalsConstructorPrototype(object);\n        } catch (e) {\n            return false;\n        }\n    };\n    var dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor'\n    ];\n    var dontEnumsLength = dontEnums.length;\n\n    // taken directly from https://github.com/ljharb/is-arguments/blob/master/index.js\n    // can be replaced with require('is-arguments') if we ever use a build process instead\n    var isStandardArguments = function isArguments(value) {\n        return toStr(value) === '[object Arguments]';\n    };\n    var isLegacyArguments = function isArguments(value) {\n        return value !== null &&\n            typeof value === 'object' &&\n            typeof value.length === 'number' &&\n            value.length >= 0 &&\n            !isArray(value) &&\n            isCallable(value.callee);\n    };\n    var isArguments = isStandardArguments(arguments) ? isStandardArguments : isLegacyArguments;\n\n    defineProperties($Object, {\n        keys: function keys(object) {\n            var isFn = isCallable(object);\n            var isArgs = isArguments(object);\n            var isObject = object !== null && typeof object === 'object';\n            var isStr = isObject && isString(object);\n\n            if (!isObject && !isFn && !isArgs) {\n                throw new TypeError('Object.keys called on a non-object');\n            }\n\n            var theKeys = [];\n            var skipProto = hasProtoEnumBug && isFn;\n            if ((isStr && hasStringEnumBug) || isArgs) {\n                for (var i = 0; i < object.length; ++i) {\n                    pushCall(theKeys, $String(i));\n                }\n            }\n\n            if (!isArgs) {\n                for (var name in object) {\n                    if (!(skipProto && name === 'prototype') && owns(object, name)) {\n                        pushCall(theKeys, $String(name));\n                    }\n                }\n            }\n\n            if (hasDontEnumBug) {\n                var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n                for (var j = 0; j < dontEnumsLength; j++) {\n                    var dontEnum = dontEnums[j];\n                    if (!(skipConstructor && dontEnum === 'constructor') && owns(object, dontEnum)) {\n                        pushCall(theKeys, dontEnum);\n                    }\n                }\n            }\n            return theKeys;\n        }\n    });\n\n    var keysWorksWithArguments = $Object.keys && (function () {\n        // Safari 5.0 bug\n        return $Object.keys(arguments).length === 2;\n    }(1, 2));\n    var keysHasArgumentsLengthBug = $Object.keys && (function () {\n        var argKeys = $Object.keys(arguments);\n        return arguments.length !== 1 || argKeys.length !== 1 || argKeys[0] !== 1;\n    }(1));\n    var originalKeys = $Object.keys;\n    defineProperties($Object, {\n        keys: function keys(object) {\n            if (isArguments(object)) {\n                return originalKeys(arraySlice(object));\n            } else {\n                return originalKeys(object);\n            }\n        }\n    }, !keysWorksWithArguments || keysHasArgumentsLengthBug);\n\n    //\n    // Date\n    // ====\n    //\n\n    var hasNegativeMonthYearBug = new Date(-3509827329600292).getUTCMonth() !== 0;\n    var aNegativeTestDate = new Date(-1509842289600292);\n    var aPositiveTestDate = new Date(1449662400000);\n    var hasToUTCStringFormatBug = aNegativeTestDate.toUTCString() !== 'Mon, 01 Jan -45875 11:59:59 GMT';\n    var hasToDateStringFormatBug;\n    var hasToStringFormatBug;\n    var timeZoneOffset = aNegativeTestDate.getTimezoneOffset();\n    if (timeZoneOffset < -720) {\n        hasToDateStringFormatBug = aNegativeTestDate.toDateString() !== 'Tue Jan 02 -45875';\n        hasToStringFormatBug = !(/^Thu Dec 10 2015 \\d\\d:\\d\\d:\\d\\d GMT[-\\+]\\d\\d\\d\\d(?: |$)/).test(aPositiveTestDate.toString());\n    } else {\n        hasToDateStringFormatBug = aNegativeTestDate.toDateString() !== 'Mon Jan 01 -45875';\n        hasToStringFormatBug = !(/^Wed Dec 09 2015 \\d\\d:\\d\\d:\\d\\d GMT[-\\+]\\d\\d\\d\\d(?: |$)/).test(aPositiveTestDate.toString());\n    }\n\n    var originalGetFullYear = call.bind(Date.prototype.getFullYear);\n    var originalGetMonth = call.bind(Date.prototype.getMonth);\n    var originalGetDate = call.bind(Date.prototype.getDate);\n    var originalGetUTCFullYear = call.bind(Date.prototype.getUTCFullYear);\n    var originalGetUTCMonth = call.bind(Date.prototype.getUTCMonth);\n    var originalGetUTCDate = call.bind(Date.prototype.getUTCDate);\n    var originalGetUTCDay = call.bind(Date.prototype.getUTCDay);\n    var originalGetUTCHours = call.bind(Date.prototype.getUTCHours);\n    var originalGetUTCMinutes = call.bind(Date.prototype.getUTCMinutes);\n    var originalGetUTCSeconds = call.bind(Date.prototype.getUTCSeconds);\n    var originalGetUTCMilliseconds = call.bind(Date.prototype.getUTCMilliseconds);\n    var dayName = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    var monthName = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var daysInMonth = function daysInMonth(month, year) {\n        return originalGetDate(new Date(year, month, 0));\n    };\n\n    defineProperties(Date.prototype, {\n        getFullYear: function getFullYear() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetFullYear(this);\n            if (year < 0 && originalGetMonth(this) > 11) {\n                return year + 1;\n            }\n            return year;\n        },\n        getMonth: function getMonth() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetFullYear(this);\n            var month = originalGetMonth(this);\n            if (year < 0 && month > 11) {\n                return 0;\n            }\n            return month;\n        },\n        getDate: function getDate() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetFullYear(this);\n            var month = originalGetMonth(this);\n            var date = originalGetDate(this);\n            if (year < 0 && month > 11) {\n                if (month === 12) {\n                    return date;\n                }\n                var days = daysInMonth(0, year + 1);\n                return (days - date) + 1;\n            }\n            return date;\n        },\n        getUTCFullYear: function getUTCFullYear() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetUTCFullYear(this);\n            if (year < 0 && originalGetUTCMonth(this) > 11) {\n                return year + 1;\n            }\n            return year;\n        },\n        getUTCMonth: function getUTCMonth() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetUTCFullYear(this);\n            var month = originalGetUTCMonth(this);\n            if (year < 0 && month > 11) {\n                return 0;\n            }\n            return month;\n        },\n        getUTCDate: function getUTCDate() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var year = originalGetUTCFullYear(this);\n            var month = originalGetUTCMonth(this);\n            var date = originalGetUTCDate(this);\n            if (year < 0 && month > 11) {\n                if (month === 12) {\n                    return date;\n                }\n                var days = daysInMonth(0, year + 1);\n                return (days - date) + 1;\n            }\n            return date;\n        }\n    }, hasNegativeMonthYearBug);\n\n    defineProperties(Date.prototype, {\n        toUTCString: function toUTCString() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var day = originalGetUTCDay(this);\n            var date = originalGetUTCDate(this);\n            var month = originalGetUTCMonth(this);\n            var year = originalGetUTCFullYear(this);\n            var hour = originalGetUTCHours(this);\n            var minute = originalGetUTCMinutes(this);\n            var second = originalGetUTCSeconds(this);\n            return dayName[day] + ', ' +\n                (date < 10 ? '0' + date : date) + ' ' +\n                monthName[month] + ' ' +\n                year + ' ' +\n                (hour < 10 ? '0' + hour : hour) + ':' +\n                (minute < 10 ? '0' + minute : minute) + ':' +\n                (second < 10 ? '0' + second : second) + ' GMT';\n        }\n    }, hasNegativeMonthYearBug || hasToUTCStringFormatBug);\n\n    // Opera 12 has `,`\n    defineProperties(Date.prototype, {\n        toDateString: function toDateString() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var day = this.getDay();\n            var date = this.getDate();\n            var month = this.getMonth();\n            var year = this.getFullYear();\n            return dayName[day] + ' ' +\n                monthName[month] + ' ' +\n                (date < 10 ? '0' + date : date) + ' ' +\n                year;\n        }\n    }, hasNegativeMonthYearBug || hasToDateStringFormatBug);\n\n    // can't use defineProperties here because of toString enumeration issue in IE <= 8\n    if (hasNegativeMonthYearBug || hasToStringFormatBug) {\n        Date.prototype.toString = function toString() {\n            if (!this || !(this instanceof Date)) {\n                throw new TypeError('this is not a Date object.');\n            }\n            var day = this.getDay();\n            var date = this.getDate();\n            var month = this.getMonth();\n            var year = this.getFullYear();\n            var hour = this.getHours();\n            var minute = this.getMinutes();\n            var second = this.getSeconds();\n            var timezoneOffset = this.getTimezoneOffset();\n            var hoursOffset = Math.floor(Math.abs(timezoneOffset) / 60);\n            var minutesOffset = Math.floor(Math.abs(timezoneOffset) % 60);\n            return dayName[day] + ' ' +\n                monthName[month] + ' ' +\n                (date < 10 ? '0' + date : date) + ' ' +\n                year + ' ' +\n                (hour < 10 ? '0' + hour : hour) + ':' +\n                (minute < 10 ? '0' + minute : minute) + ':' +\n                (second < 10 ? '0' + second : second) + ' GMT' +\n                (timezoneOffset > 0 ? '-' : '+') +\n                (hoursOffset < 10 ? '0' + hoursOffset : hoursOffset) +\n                (minutesOffset < 10 ? '0' + minutesOffset : minutesOffset);\n        };\n        if (supportsDescriptors) {\n            $Object.defineProperty(Date.prototype, 'toString', {\n                configurable: true,\n                enumerable: false,\n                writable: true\n            });\n        }\n    }\n\n    // ES5 15.9.5.43\n    // http://es5.github.com/#x15.9.5.43\n    // This function returns a String value represent the instance in time\n    // represented by this Date object. The format of the String is the Date Time\n    // string format defined in 15.9.1.15. All fields are present in the String.\n    // The time zone is always UTC, denoted by the suffix Z. If the time value of\n    // this object is not a finite Number a RangeError exception is thrown.\n    var negativeDate = -62198755200000;\n    var negativeYearString = '-000001';\n    var hasNegativeDateBug = Date.prototype.toISOString && new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1;\n    var hasSafari51DateBug = Date.prototype.toISOString && new Date(-1).toISOString() !== '1969-12-31T23:59:59.999Z';\n\n    var getTime = call.bind(Date.prototype.getTime);\n\n    defineProperties(Date.prototype, {\n        toISOString: function toISOString() {\n            if (!isFinite(this) || !isFinite(getTime(this))) {\n                // Adope Photoshop requires the second check.\n                throw new RangeError('Date.prototype.toISOString called on non-finite value.');\n            }\n\n            var year = originalGetUTCFullYear(this);\n\n            var month = originalGetUTCMonth(this);\n            // see https://github.com/es-shims/es5-shim/issues/111\n            year += Math.floor(month / 12);\n            month = (month % 12 + 12) % 12;\n\n            // the date time string format is specified in 15.9.1.15.\n            var result = [month + 1, originalGetUTCDate(this), originalGetUTCHours(this), originalGetUTCMinutes(this), originalGetUTCSeconds(this)];\n            year = (\n                (year < 0 ? '-' : (year > 9999 ? '+' : '')) +\n                strSlice('00000' + Math.abs(year), (0 <= year && year <= 9999) ? -4 : -6)\n            );\n\n            for (var i = 0; i < result.length; ++i) {\n                // pad months, days, hours, minutes, and seconds to have two digits.\n                result[i] = strSlice('00' + result[i], -2);\n            }\n            // pad milliseconds to have three digits.\n            return (\n                year + '-' + arraySlice(result, 0, 2).join('-') +\n                'T' + arraySlice(result, 2).join(':') + '.' +\n                strSlice('000' + originalGetUTCMilliseconds(this), -3) + 'Z'\n            );\n        }\n    }, hasNegativeDateBug || hasSafari51DateBug);\n\n    // ES5 15.9.5.44\n    // http://es5.github.com/#x15.9.5.44\n    // This function provides a String representation of a Date object for use by\n    // JSON.stringify (15.12.3).\n    var dateToJSONIsSupported = (function () {\n        try {\n            return Date.prototype.toJSON &&\n                new Date(NaN).toJSON() === null &&\n                new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1 &&\n                Date.prototype.toJSON.call({ // generic\n                    toISOString: function () { return true; }\n                });\n        } catch (e) {\n            return false;\n        }\n    }());\n    if (!dateToJSONIsSupported) {\n        Date.prototype.toJSON = function toJSON(key) {\n            // When the toJSON method is called with argument key, the following\n            // steps are taken:\n\n            // 1.  Let O be the result of calling ToObject, giving it the this\n            // value as its argument.\n            // 2. Let tv be ES.ToPrimitive(O, hint Number).\n            var O = $Object(this);\n            var tv = ES.ToPrimitive(O);\n            // 3. If tv is a Number and is not finite, return null.\n            if (typeof tv === 'number' && !isFinite(tv)) {\n                return null;\n            }\n            // 4. Let toISO be the result of calling the [[Get]] internal method of\n            // O with argument \"toISOString\".\n            var toISO = O.toISOString;\n            // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n            if (!isCallable(toISO)) {\n                throw new TypeError('toISOString property is not callable');\n            }\n            // 6. Return the result of calling the [[Call]] internal method of\n            //  toISO with O as the this value and an empty argument list.\n            return toISO.call(O);\n\n            // NOTE 1 The argument is ignored.\n\n            // NOTE 2 The toJSON function is intentionally generic; it does not\n            // require that its this value be a Date object. Therefore, it can be\n            // transferred to other kinds of objects for use as a method. However,\n            // it does require that any such object have a toISOString method. An\n            // object is free to use the argument key to filter its\n            // stringification.\n        };\n    }\n\n    // ES5 15.9.4.2\n    // http://es5.github.com/#x15.9.4.2\n    // based on work shared by Daniel Friesen (dantman)\n    // http://gist.github.com/303249\n    var supportsExtendedYears = Date.parse('+033658-09-27T01:46:40.000Z') === 1e15;\n    var acceptsInvalidDates = !isNaN(Date.parse('2012-04-04T24:00:00.500Z')) || !isNaN(Date.parse('2012-11-31T23:59:59.000Z')) || !isNaN(Date.parse('2012-12-31T23:59:60.000Z'));\n    var doesNotParseY2KNewYear = isNaN(Date.parse('2000-01-01T00:00:00.000Z'));\n    if (doesNotParseY2KNewYear || acceptsInvalidDates || !supportsExtendedYears) {\n        // XXX global assignment won't work in embeddings that use\n        // an alternate object for the context.\n        /* global Date: true */\n        /* eslint-disable no-undef */\n        var maxSafeUnsigned32Bit = Math.pow(2, 31) - 1;\n        var hasSafariSignedIntBug = isActualNaN(new Date(1970, 0, 1, 0, 0, 0, maxSafeUnsigned32Bit + 1).getTime());\n        /* eslint-disable no-implicit-globals */\n        Date = (function (NativeDate) {\n        /* eslint-enable no-implicit-globals */\n        /* eslint-enable no-undef */\n            // Date.length === 7\n            var DateShim = function Date(Y, M, D, h, m, s, ms) {\n                var length = arguments.length;\n                var date;\n                if (this instanceof NativeDate) {\n                    var seconds = s;\n                    var millis = ms;\n                    if (hasSafariSignedIntBug && length >= 7 && ms > maxSafeUnsigned32Bit) {\n                        // work around a Safari 8/9 bug where it treats the seconds as signed\n                        var msToShift = Math.floor(ms / maxSafeUnsigned32Bit) * maxSafeUnsigned32Bit;\n                        var sToShift = Math.floor(msToShift / 1e3);\n                        seconds += sToShift;\n                        millis -= sToShift * 1e3;\n                    }\n                    date = length === 1 && $String(Y) === Y ? // isString(Y)\n                        // We explicitly pass it through parse:\n                        new NativeDate(DateShim.parse(Y)) :\n                        // We have to manually make calls depending on argument\n                        // length here\n                        length >= 7 ? new NativeDate(Y, M, D, h, m, seconds, millis) :\n                        length >= 6 ? new NativeDate(Y, M, D, h, m, seconds) :\n                        length >= 5 ? new NativeDate(Y, M, D, h, m) :\n                        length >= 4 ? new NativeDate(Y, M, D, h) :\n                        length >= 3 ? new NativeDate(Y, M, D) :\n                        length >= 2 ? new NativeDate(Y, M) :\n                        length >= 1 ? new NativeDate(Y instanceof NativeDate ? +Y : Y) :\n                                      new NativeDate();\n                } else {\n                    date = NativeDate.apply(this, arguments);\n                }\n                if (!isPrimitive(date)) {\n                    // Prevent mixups with unfixed Date object\n                    defineProperties(date, { constructor: DateShim }, true);\n                }\n                return date;\n            };\n\n            // 15.9.1.15 Date Time String Format.\n            var isoDateExpression = new RegExp('^' +\n                '(\\\\d{4}|[+-]\\\\d{6})' + // four-digit year capture or sign +\n                                          // 6-digit extended year\n                '(?:-(\\\\d{2})' + // optional month capture\n                '(?:-(\\\\d{2})' + // optional day capture\n                '(?:' + // capture hours:minutes:seconds.milliseconds\n                    'T(\\\\d{2})' + // hours capture\n                    ':(\\\\d{2})' + // minutes capture\n                    '(?:' + // optional :seconds.milliseconds\n                        ':(\\\\d{2})' + // seconds capture\n                        '(?:(\\\\.\\\\d{1,}))?' + // milliseconds capture\n                    ')?' +\n                '(' + // capture UTC offset component\n                    'Z|' + // UTC capture\n                    '(?:' + // offset specifier +/-hours:minutes\n                        '([-+])' + // sign capture\n                        '(\\\\d{2})' + // hours offset capture\n                        ':(\\\\d{2})' + // minutes offset capture\n                    ')' +\n                ')?)?)?)?' +\n            '$');\n\n            var months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n\n            var dayFromMonth = function dayFromMonth(year, month) {\n                var t = month > 1 ? 1 : 0;\n                return (\n                    months[month] +\n                    Math.floor((year - 1969 + t) / 4) -\n                    Math.floor((year - 1901 + t) / 100) +\n                    Math.floor((year - 1601 + t) / 400) +\n                    365 * (year - 1970)\n                );\n            };\n\n            var toUTC = function toUTC(t) {\n                var s = 0;\n                var ms = t;\n                if (hasSafariSignedIntBug && ms > maxSafeUnsigned32Bit) {\n                    // work around a Safari 8/9 bug where it treats the seconds as signed\n                    var msToShift = Math.floor(ms / maxSafeUnsigned32Bit) * maxSafeUnsigned32Bit;\n                    var sToShift = Math.floor(msToShift / 1e3);\n                    s += sToShift;\n                    ms -= sToShift * 1e3;\n                }\n                return $Number(new NativeDate(1970, 0, 1, 0, 0, s, ms));\n            };\n\n            // Copy any custom methods a 3rd party library may have added\n            for (var key in NativeDate) {\n                if (owns(NativeDate, key)) {\n                    DateShim[key] = NativeDate[key];\n                }\n            }\n\n            // Copy \"native\" methods explicitly; they may be non-enumerable\n            defineProperties(DateShim, {\n                now: NativeDate.now,\n                UTC: NativeDate.UTC\n            }, true);\n            DateShim.prototype = NativeDate.prototype;\n            defineProperties(DateShim.prototype, {\n                constructor: DateShim\n            }, true);\n\n            // Upgrade Date.parse to handle simplified ISO 8601 strings\n            var parseShim = function parse(string) {\n                var match = isoDateExpression.exec(string);\n                if (match) {\n                    // parse months, days, hours, minutes, seconds, and milliseconds\n                    // provide default values if necessary\n                    // parse the UTC offset component\n                    var year = $Number(match[1]),\n                        month = $Number(match[2] || 1) - 1,\n                        day = $Number(match[3] || 1) - 1,\n                        hour = $Number(match[4] || 0),\n                        minute = $Number(match[5] || 0),\n                        second = $Number(match[6] || 0),\n                        millisecond = Math.floor($Number(match[7] || 0) * 1000),\n                        // When time zone is missed, local offset should be used\n                        // (ES 5.1 bug)\n                        // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n                        isLocalTime = Boolean(match[4] && !match[8]),\n                        signOffset = match[9] === '-' ? 1 : -1,\n                        hourOffset = $Number(match[10] || 0),\n                        minuteOffset = $Number(match[11] || 0),\n                        result;\n                    var hasMinutesOrSecondsOrMilliseconds = minute > 0 || second > 0 || millisecond > 0;\n                    if (\n                        hour < (hasMinutesOrSecondsOrMilliseconds ? 24 : 25) &&\n                        minute < 60 && second < 60 && millisecond < 1000 &&\n                        month > -1 && month < 12 && hourOffset < 24 &&\n                        minuteOffset < 60 && // detect invalid offsets\n                        day > -1 &&\n                        day < (dayFromMonth(year, month + 1) - dayFromMonth(year, month))\n                    ) {\n                        result = (\n                            (dayFromMonth(year, month) + day) * 24 +\n                            hour +\n                            hourOffset * signOffset\n                        ) * 60;\n                        result = (\n                            (result + minute + minuteOffset * signOffset) * 60 +\n                            second\n                        ) * 1000 + millisecond;\n                        if (isLocalTime) {\n                            result = toUTC(result);\n                        }\n                        if (-8.64e15 <= result && result <= 8.64e15) {\n                            return result;\n                        }\n                    }\n                    return NaN;\n                }\n                return NativeDate.parse.apply(this, arguments);\n            };\n            defineProperties(DateShim, { parse: parseShim });\n\n            return DateShim;\n        }(Date));\n        /* global Date: false */\n    }\n\n    // ES5 15.9.4.4\n    // http://es5.github.com/#x15.9.4.4\n    if (!Date.now) {\n        Date.now = function now() {\n            return new Date().getTime();\n        };\n    }\n\n    //\n    // Number\n    // ======\n    //\n\n    // ES5.1 15.7.4.5\n    // http://es5.github.com/#x15.7.4.5\n    var hasToFixedBugs = NumberPrototype.toFixed && (\n      (0.00008).toFixed(3) !== '0.000' ||\n      (0.9).toFixed(0) !== '1' ||\n      (1.255).toFixed(2) !== '1.25' ||\n      (1000000000000000128).toFixed(0) !== '1000000000000000128'\n    );\n\n    var toFixedHelpers = {\n        base: 1e7,\n        size: 6,\n        data: [0, 0, 0, 0, 0, 0],\n        multiply: function multiply(n, c) {\n            var i = -1;\n            var c2 = c;\n            while (++i < toFixedHelpers.size) {\n                c2 += n * toFixedHelpers.data[i];\n                toFixedHelpers.data[i] = c2 % toFixedHelpers.base;\n                c2 = Math.floor(c2 / toFixedHelpers.base);\n            }\n        },\n        divide: function divide(n) {\n            var i = toFixedHelpers.size;\n            var c = 0;\n            while (--i >= 0) {\n                c += toFixedHelpers.data[i];\n                toFixedHelpers.data[i] = Math.floor(c / n);\n                c = (c % n) * toFixedHelpers.base;\n            }\n        },\n        numToString: function numToString() {\n            var i = toFixedHelpers.size;\n            var s = '';\n            while (--i >= 0) {\n                if (s !== '' || i === 0 || toFixedHelpers.data[i] !== 0) {\n                    var t = $String(toFixedHelpers.data[i]);\n                    if (s === '') {\n                        s = t;\n                    } else {\n                        s += strSlice('0000000', 0, 7 - t.length) + t;\n                    }\n                }\n            }\n            return s;\n        },\n        pow: function pow(x, n, acc) {\n            return (n === 0 ? acc : (n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)));\n        },\n        log: function log(x) {\n            var n = 0;\n            var x2 = x;\n            while (x2 >= 4096) {\n                n += 12;\n                x2 /= 4096;\n            }\n            while (x2 >= 2) {\n                n += 1;\n                x2 /= 2;\n            }\n            return n;\n        }\n    };\n\n    var toFixedShim = function toFixed(fractionDigits) {\n        var f, x, s, m, e, z, j, k;\n\n        // Test for NaN and round fractionDigits down\n        f = $Number(fractionDigits);\n        f = isActualNaN(f) ? 0 : Math.floor(f);\n\n        if (f < 0 || f > 20) {\n            throw new RangeError('Number.toFixed called with invalid number of decimals');\n        }\n\n        x = $Number(this);\n\n        if (isActualNaN(x)) {\n            return 'NaN';\n        }\n\n        // If it is too big or small, return the string value of the number\n        if (x <= -1e21 || x >= 1e21) {\n            return $String(x);\n        }\n\n        s = '';\n\n        if (x < 0) {\n            s = '-';\n            x = -x;\n        }\n\n        m = '0';\n\n        if (x > 1e-21) {\n            // 1e-21 < x < 1e21\n            // -70 < log2(x) < 70\n            e = toFixedHelpers.log(x * toFixedHelpers.pow(2, 69, 1)) - 69;\n            z = (e < 0 ? x * toFixedHelpers.pow(2, -e, 1) : x / toFixedHelpers.pow(2, e, 1));\n            z *= 0x10000000000000; // Math.pow(2, 52);\n            e = 52 - e;\n\n            // -18 < e < 122\n            // x = z / 2 ^ e\n            if (e > 0) {\n                toFixedHelpers.multiply(0, z);\n                j = f;\n\n                while (j >= 7) {\n                    toFixedHelpers.multiply(1e7, 0);\n                    j -= 7;\n                }\n\n                toFixedHelpers.multiply(toFixedHelpers.pow(10, j, 1), 0);\n                j = e - 1;\n\n                while (j >= 23) {\n                    toFixedHelpers.divide(1 << 23);\n                    j -= 23;\n                }\n\n                toFixedHelpers.divide(1 << j);\n                toFixedHelpers.multiply(1, 1);\n                toFixedHelpers.divide(2);\n                m = toFixedHelpers.numToString();\n            } else {\n                toFixedHelpers.multiply(0, z);\n                toFixedHelpers.multiply(1 << (-e), 0);\n                m = toFixedHelpers.numToString() + strSlice('0.00000000000000000000', 2, 2 + f);\n            }\n        }\n\n        if (f > 0) {\n            k = m.length;\n\n            if (k <= f) {\n                m = s + strSlice('0.0000000000000000000', 0, f - k + 2) + m;\n            } else {\n                m = s + strSlice(m, 0, k - f) + '.' + strSlice(m, k - f);\n            }\n        } else {\n            m = s + m;\n        }\n\n        return m;\n    };\n    defineProperties(NumberPrototype, { toFixed: toFixedShim }, hasToFixedBugs);\n\n    var hasToPrecisionUndefinedBug = (function () {\n        try {\n            return 1.0.toPrecision(undefined) === '1';\n        } catch (e) {\n            return true;\n        }\n    }());\n    var originalToPrecision = NumberPrototype.toPrecision;\n    defineProperties(NumberPrototype, {\n        toPrecision: function toPrecision(precision) {\n            return typeof precision === 'undefined' ? originalToPrecision.call(this) : originalToPrecision.call(this, precision);\n        }\n    }, hasToPrecisionUndefinedBug);\n\n    //\n    // String\n    // ======\n    //\n\n    // ES5 15.5.4.14\n    // http://es5.github.com/#x15.5.4.14\n\n    // [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n    // Many browsers do not split properly with regular expressions or they\n    // do not perform the split correctly under obscure conditions.\n    // See http://blog.stevenlevithan.com/archives/cross-browser-split\n    // I've tested in many browsers and this seems to cover the deviant ones:\n    //    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n    //    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n    //    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n    //       [undefined, \"t\", undefined, \"e\", ...]\n    //    ''.split(/.?/) should be [], not [\"\"]\n    //    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\n    if (\n        'ab'.split(/(?:ab)*/).length !== 2 ||\n        '.'.split(/(.?)(.?)/).length !== 4 ||\n        'tesst'.split(/(s)*/)[1] === 't' ||\n        'test'.split(/(?:)/, -1).length !== 4 ||\n        ''.split(/.?/).length ||\n        '.'.split(/()()/).length > 1\n    ) {\n        (function () {\n            var compliantExecNpcg = typeof (/()??/).exec('')[1] === 'undefined'; // NPCG: nonparticipating capturing group\n            var maxSafe32BitInt = Math.pow(2, 32) - 1;\n\n            StringPrototype.split = function (separator, limit) {\n                var string = String(this);\n                if (typeof separator === 'undefined' && limit === 0) {\n                    return [];\n                }\n\n                // If `separator` is not a regex, use native split\n                if (!isRegex(separator)) {\n                    return strSplit(this, separator, limit);\n                }\n\n                var output = [];\n                var flags = (separator.ignoreCase ? 'i' : '') +\n                            (separator.multiline ? 'm' : '') +\n                            (separator.unicode ? 'u' : '') + // in ES6\n                            (separator.sticky ? 'y' : ''), // Firefox 3+ and ES6\n                    lastLastIndex = 0,\n                    // Make `global` and avoid `lastIndex` issues by working with a copy\n                    separator2, match, lastIndex, lastLength;\n                var separatorCopy = new RegExp(separator.source, flags + 'g');\n                if (!compliantExecNpcg) {\n                    // Doesn't need flags gy, but they don't hurt\n                    separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n                }\n                /* Values for `limit`, per the spec:\n                 * If undefined: 4294967295 // maxSafe32BitInt\n                 * If 0, Infinity, or NaN: 0\n                 * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n                 * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n                 * If other: Type-convert, then use the above rules\n                 */\n                var splitLimit = typeof limit === 'undefined' ? maxSafe32BitInt : ES.ToUint32(limit);\n                match = separatorCopy.exec(string);\n                while (match) {\n                    // `separatorCopy.lastIndex` is not reliable cross-browser\n                    lastIndex = match.index + match[0].length;\n                    if (lastIndex > lastLastIndex) {\n                        pushCall(output, strSlice(string, lastLastIndex, match.index));\n                        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                        // nonparticipating capturing groups\n                        if (!compliantExecNpcg && match.length > 1) {\n                            /* eslint-disable no-loop-func */\n                            match[0].replace(separator2, function () {\n                                for (var i = 1; i < arguments.length - 2; i++) {\n                                    if (typeof arguments[i] === 'undefined') {\n                                        match[i] = void 0;\n                                    }\n                                }\n                            });\n                            /* eslint-enable no-loop-func */\n                        }\n                        if (match.length > 1 && match.index < string.length) {\n                            array_push.apply(output, arraySlice(match, 1));\n                        }\n                        lastLength = match[0].length;\n                        lastLastIndex = lastIndex;\n                        if (output.length >= splitLimit) {\n                            break;\n                        }\n                    }\n                    if (separatorCopy.lastIndex === match.index) {\n                        separatorCopy.lastIndex++; // Avoid an infinite loop\n                    }\n                    match = separatorCopy.exec(string);\n                }\n                if (lastLastIndex === string.length) {\n                    if (lastLength || !separatorCopy.test('')) {\n                        pushCall(output, '');\n                    }\n                } else {\n                    pushCall(output, strSlice(string, lastLastIndex));\n                }\n                return output.length > splitLimit ? arraySlice(output, 0, splitLimit) : output;\n            };\n        }());\n\n    // [bugfix, chrome]\n    // If separator is undefined, then the result array contains just one String,\n    // which is the this value (converted to a String). If limit is not undefined,\n    // then the output array is truncated so that it contains no more than limit\n    // elements.\n    // \"0\".split(undefined, 0) -> []\n    } else if ('0'.split(void 0, 0).length) {\n        StringPrototype.split = function split(separator, limit) {\n            if (typeof separator === 'undefined' && limit === 0) {\n                return [];\n            }\n            return strSplit(this, separator, limit);\n        };\n    }\n\n    var str_replace = StringPrototype.replace;\n    var replaceReportsGroupsCorrectly = (function () {\n        var groups = [];\n        'x'.replace(/x(.)?/g, function (match, group) {\n            pushCall(groups, group);\n        });\n        return groups.length === 1 && typeof groups[0] === 'undefined';\n    }());\n\n    if (!replaceReportsGroupsCorrectly) {\n        StringPrototype.replace = function replace(searchValue, replaceValue) {\n            var isFn = isCallable(replaceValue);\n            var hasCapturingGroups = isRegex(searchValue) && (/\\)[*?]/).test(searchValue.source);\n            if (!isFn || !hasCapturingGroups) {\n                return str_replace.call(this, searchValue, replaceValue);\n            } else {\n                var wrappedReplaceValue = function (match) {\n                    var length = arguments.length;\n                    var originalLastIndex = searchValue.lastIndex;\n                    searchValue.lastIndex = 0;\n                    var args = searchValue.exec(match) || [];\n                    searchValue.lastIndex = originalLastIndex;\n                    pushCall(args, arguments[length - 2], arguments[length - 1]);\n                    return replaceValue.apply(this, args);\n                };\n                return str_replace.call(this, searchValue, wrappedReplaceValue);\n            }\n        };\n    }\n\n    // ECMA-262, 3rd B.2.3\n    // Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n    // non-normative section suggesting uniform semantics and it should be\n    // normalized across all browsers\n    // [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\n    var string_substr = StringPrototype.substr;\n    var hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\n    defineProperties(StringPrototype, {\n        substr: function substr(start, length) {\n            var normalizedStart = start;\n            if (start < 0) {\n                normalizedStart = max(this.length + start, 0);\n            }\n            return string_substr.call(this, normalizedStart, length);\n        }\n    }, hasNegativeSubstrBug);\n\n    // ES5 15.5.4.20\n    // whitespace from: http://es5.github.io/#x15.5.4.20\n    var ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n        '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' +\n        '\\u2029\\uFEFF';\n    var zeroWidth = '\\u200b';\n    var wsRegexChars = '[' + ws + ']';\n    var trimBeginRegexp = new RegExp('^' + wsRegexChars + wsRegexChars + '*');\n    var trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + '*$');\n    var hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() || !zeroWidth.trim());\n    defineProperties(StringPrototype, {\n        // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n        // http://perfectionkills.com/whitespace-deviations/\n        trim: function trim() {\n            if (typeof this === 'undefined' || this === null) {\n                throw new TypeError(\"can't convert \" + this + ' to object');\n            }\n            return $String(this).replace(trimBeginRegexp, '').replace(trimEndRegexp, '');\n        }\n    }, hasTrimWhitespaceBug);\n    var trim = call.bind(String.prototype.trim);\n\n    var hasLastIndexBug = StringPrototype.lastIndexOf && 'abc'.lastIndexOf('', 2) !== -1;\n    defineProperties(StringPrototype, {\n        lastIndexOf: function lastIndexOf(searchString) {\n            if (typeof this === 'undefined' || this === null) {\n                throw new TypeError(\"can't convert \" + this + ' to object');\n            }\n            var S = $String(this);\n            var searchStr = $String(searchString);\n            var numPos = arguments.length > 1 ? $Number(arguments[1]) : NaN;\n            var pos = isActualNaN(numPos) ? Infinity : ES.ToInteger(numPos);\n            var start = min(max(pos, 0), S.length);\n            var searchLen = searchStr.length;\n            var k = start + searchLen;\n            while (k > 0) {\n                k = max(0, k - searchLen);\n                var index = strIndexOf(strSlice(S, k, start + searchLen), searchStr);\n                if (index !== -1) {\n                    return k + index;\n                }\n            }\n            return -1;\n        }\n    }, hasLastIndexBug);\n\n    var originalLastIndexOf = StringPrototype.lastIndexOf;\n    defineProperties(StringPrototype, {\n        lastIndexOf: function lastIndexOf(searchString) {\n            return originalLastIndexOf.apply(this, arguments);\n        }\n    }, StringPrototype.lastIndexOf.length !== 1);\n\n    // ES-5 15.1.2.2\n    /* eslint-disable radix */\n    if (parseInt(ws + '08') !== 8 || parseInt(ws + '0x16') !== 22) {\n    /* eslint-enable radix */\n        /* global parseInt: true */\n        parseInt = (function (origParseInt) {\n            var hexRegex = /^[\\-+]?0[xX]/;\n            return function parseInt(str, radix) {\n                var string = trim(String(str));\n                var defaultedRadix = $Number(radix) || (hexRegex.test(string) ? 16 : 10);\n                return origParseInt(string, defaultedRadix);\n            };\n        }(parseInt));\n    }\n\n    // https://es5.github.io/#x15.1.2.3\n    if (1 / parseFloat('-0') !== -Infinity) {\n        /* global parseFloat: true */\n        parseFloat = (function (origParseFloat) {\n            return function parseFloat(string) {\n                var inputString = trim(String(string));\n                var result = origParseFloat(inputString);\n                return result === 0 && strSlice(inputString, 0, 1) === '-' ? -0 : result;\n            };\n        }(parseFloat));\n    }\n\n    if (String(new RangeError('test')) !== 'RangeError: test') {\n        var errorToStringShim = function toString() {\n            if (typeof this === 'undefined' || this === null) {\n                throw new TypeError(\"can't convert \" + this + ' to object');\n            }\n            var name = this.name;\n            if (typeof name === 'undefined') {\n                name = 'Error';\n            } else if (typeof name !== 'string') {\n                name = $String(name);\n            }\n            var msg = this.message;\n            if (typeof msg === 'undefined') {\n                msg = '';\n            } else if (typeof msg !== 'string') {\n                msg = $String(msg);\n            }\n            if (!name) {\n                return msg;\n            }\n            if (!msg) {\n                return name;\n            }\n            return name + ': ' + msg;\n        };\n        // can't use defineProperties here because of toString enumeration issue in IE <= 8\n        Error.prototype.toString = errorToStringShim;\n    }\n\n    if (supportsDescriptors) {\n        var ensureNonEnumerable = function (obj, prop) {\n            if (isEnum(obj, prop)) {\n                var desc = Object.getOwnPropertyDescriptor(obj, prop);\n                if (desc.configurable) {\n                    desc.enumerable = false;\n                    Object.defineProperty(obj, prop, desc);\n                }\n            }\n        };\n        ensureNonEnumerable(Error.prototype, 'message');\n        if (Error.prototype.message !== '') {\n            Error.prototype.message = '';\n        }\n        ensureNonEnumerable(Error.prototype, 'name');\n    }\n\n    if (String(/a/mig) !== '/a/gim') {\n        var regexToString = function toString() {\n            var str = '/' + this.source + '/';\n            if (this.global) {\n                str += 'g';\n            }\n            if (this.ignoreCase) {\n                str += 'i';\n            }\n            if (this.multiline) {\n                str += 'm';\n            }\n            return str;\n        };\n        // can't use defineProperties here because of toString enumeration issue in IE <= 8\n        RegExp.prototype.toString = regexToString;\n    }\n}));\n\n},{}],4:[function(require,module,exports){\n// get successful control from form and assemble into object\n// http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2\n\n// types which indicate a submit action and are not successful controls\n// these will be ignored\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\n\n// node names which could be successful controls\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\n\n// Matches bracket notation.\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\n\n// serializes form fields\n// @param form MUST be an HTMLForm element\n// @param options is an optional argument to configure the serialization. Default output\n// with no options specified is a url encoded string\n//    - hash: [true | false] Configure the output type. If true, the output will\n//    be a js object.\n//    - serializer: [function] Optional serializer function to override the default one.\n//    The function takes 3 arguments (result, key, value) and should return new result\n//    hash and url encoded str serializers are provided with this module\n//    - disabled: [true | false]. If true serialize disabled fields.\n//    - empty: [true | false]. If true serialize empty fields\nfunction serialize(form, options) {\n    if (typeof options != 'object') {\n        options = { hash: !!options };\n    }\n    else if (options.hash === undefined) {\n        options.hash = true;\n    }\n\n    var result = (options.hash) ? {} : '';\n    var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\n\n    var elements = form && form.elements ? form.elements : [];\n\n    //Object store each radio and set if it's empty or not\n    var radio_store = Object.create(null);\n\n    for (var i=0 ; i<elements.length ; ++i) {\n        var element = elements[i];\n\n        // ingore disabled fields\n        if ((!options.disabled && element.disabled) || !element.name) {\n            continue;\n        }\n        // ignore anyhting that is not considered a success field\n        if (!k_r_success_contrls.test(element.nodeName) ||\n            k_r_submitter.test(element.type)) {\n            continue;\n        }\n\n        var key = element.name;\n        var val = element.value;\n\n        // we can't just use element.value for checkboxes cause some browsers lie to us\n        // they say \"on\" for value when the box isn't checked\n        if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\n            val = undefined;\n        }\n\n        // If we want empty elements\n        if (options.empty) {\n            // for checkbox\n            if (element.type === 'checkbox' && !element.checked) {\n                val = '';\n            }\n\n            // for radio\n            if (element.type === 'radio') {\n                if (!radio_store[element.name] && !element.checked) {\n                    radio_store[element.name] = false;\n                }\n                else if (element.checked) {\n                    radio_store[element.name] = true;\n                }\n            }\n\n            // if options empty is true, continue only if its radio\n            if (val == undefined && element.type == 'radio') {\n                continue;\n            }\n        }\n        else {\n            // value-less fields are ignored unless options.empty is true\n            if (!val) {\n                continue;\n            }\n        }\n\n        // multi select boxes\n        if (element.type === 'select-multiple') {\n            val = [];\n\n            var selectOptions = element.options;\n            var isSelectedOptions = false;\n            for (var j=0 ; j<selectOptions.length ; ++j) {\n                var option = selectOptions[j];\n                var allowedEmpty = options.empty && !option.value;\n                var hasValue = (option.value || allowedEmpty);\n                if (option.selected && hasValue) {\n                    isSelectedOptions = true;\n\n                    // If using a hash serializer be sure to add the\n                    // correct notation for an array in the multi-select\n                    // context. Here the name attribute on the select element\n                    // might be missing the trailing bracket pair. Both names\n                    // \"foo\" and \"foo[]\" should be arrays.\n                    if (options.hash && key.slice(key.length - 2) !== '[]') {\n                        result = serializer(result, key + '[]', option.value);\n                    }\n                    else {\n                        result = serializer(result, key, option.value);\n                    }\n                }\n            }\n\n            // Serialize if no selected options and options.empty is true\n            if (!isSelectedOptions && options.empty) {\n                result = serializer(result, key, '');\n            }\n\n            continue;\n        }\n\n        result = serializer(result, key, val);\n    }\n\n    // Check for all empty radio buttons and serialize them with key=\"\"\n    if (options.empty) {\n        for (var key in radio_store) {\n            if (!radio_store[key]) {\n                result = serializer(result, key, '');\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction parse_keys(string) {\n    var keys = [];\n    var prefix = /^([^\\[\\]]*)/;\n    var children = new RegExp(brackets);\n    var match = prefix.exec(string);\n\n    if (match[1]) {\n        keys.push(match[1]);\n    }\n\n    while ((match = children.exec(string)) !== null) {\n        keys.push(match[1]);\n    }\n\n    return keys;\n}\n\nfunction hash_assign(result, keys, value) {\n    if (keys.length === 0) {\n        result = value;\n        return result;\n    }\n\n    var key = keys.shift();\n    var between = key.match(/^\\[(.+?)\\]$/);\n\n    if (key === '[]') {\n        result = result || [];\n\n        if (Array.isArray(result)) {\n            result.push(hash_assign(null, keys, value));\n        }\n        else {\n            // This might be the result of bad name attributes like \"[][foo]\",\n            // in this case the original `result` object will already be\n            // assigned to an object literal. Rather than coerce the object to\n            // an array, or cause an exception the attribute \"_values\" is\n            // assigned as an array.\n            result._values = result._values || [];\n            result._values.push(hash_assign(null, keys, value));\n        }\n\n        return result;\n    }\n\n    // Key is an attribute name and can be assigned directly.\n    if (!between) {\n        result[key] = hash_assign(result[key], keys, value);\n    }\n    else {\n        var string = between[1];\n        // +var converts the variable into a number\n        // better than parseInt because it doesn't truncate away trailing\n        // letters and actually fails if whole thing is not a number\n        var index = +string;\n\n        // If the characters between the brackets is not a number it is an\n        // attribute name and can be assigned directly.\n        if (isNaN(index)) {\n            result = result || {};\n            result[string] = hash_assign(result[string], keys, value);\n        }\n        else {\n            result = result || [];\n            result[index] = hash_assign(result[index], keys, value);\n        }\n    }\n\n    return result;\n}\n\n// Object/hash encoding serializer.\nfunction hash_serializer(result, key, value) {\n    var matches = key.match(brackets);\n\n    // Has brackets? Use the recursive assignment function to walk the keys,\n    // construct any missing objects in the result tree and make the assignment\n    // at the end of the chain.\n    if (matches) {\n        var keys = parse_keys(key);\n        hash_assign(result, keys, value);\n    }\n    else {\n        // Non bracket notation can make assignments directly.\n        var existing = result[key];\n\n        // If the value has been assigned already (for instance when a radio and\n        // a checkbox have the same name attribute) convert the previous value\n        // into an array before pushing into it.\n        //\n        // NOTE: If this requirement were removed all hash creation and\n        // assignment could go through `hash_assign`.\n        if (existing) {\n            if (!Array.isArray(existing)) {\n                result[key] = [ existing ];\n            }\n\n            result[key].push(value);\n        }\n        else {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\n// urlform encoding serializer\nfunction str_serialize(result, key, value) {\n    // encode newlines as \\r\\n cause the html spec says so\n    value = value.replace(/(\\r)?\\n/g, '\\r\\n');\n    value = encodeURIComponent(value);\n\n    // spaces should be '+' rather than '%20'.\n    value = value.replace(/%20/g, '+');\n    return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\n}\n\nmodule.exports = serialize;\n\n},{}]},{},[2]);\n; })();"]}